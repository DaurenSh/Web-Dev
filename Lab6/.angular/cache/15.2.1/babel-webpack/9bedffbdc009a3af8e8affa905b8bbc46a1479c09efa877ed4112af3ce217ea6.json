{"ast":null,"code":"import _defineProperty from \"C:/Users/001/Documents/GitHub/Web-Dev/Lab6/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../albums.service\";\nimport * as i4 from \"@angular/forms\";\nconst _c0 = function () {\n  return [\"photos\"];\n};\nfunction AlbumDetailComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h3\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6, \"Edit Title Of Album\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"label\")(8, \"input\", 1);\n    i0.ɵɵlistener(\"ngModelChange\", function AlbumDetailComponent_div_0_Template_input_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.name = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(9, \"br\");\n    i0.ɵɵelementStart(10, \"div\", 2)(11, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function AlbumDetailComponent_div_0_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.updateAlbum());\n    });\n    i0.ɵɵtext(12, \"Save\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function AlbumDetailComponent_div_0_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.goBack());\n    });\n    i0.ɵɵtext(14, \"Go Back\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function AlbumDetailComponent_div_0_Template_button_click_15_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.showPhotos());\n    });\n    i0.ɵɵtext(16, \"Show Photos\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 4)(18, \"a\", 5);\n    i0.ɵɵtext(19, \"Photos of album\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Album Detail #\", ctx_r0.album.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.album.title);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.name);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(4, _c0));\n  }\n}\nfunction AlbumDetailComponent_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Loading album...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AlbumDetailComponent_ul_2_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"img\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const photo_r9 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", photo_r9.id, \") \", photo_r9.title, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", photo_r9.url, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction AlbumDetailComponent_ul_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtemplate(1, AlbumDetailComponent_ul_2_li_1_Template, 3, 3, \"li\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.photos);\n  }\n}\nexport class AlbumDetailComponent {\n  constructor(route, location, albumService) {\n    _defineProperty(this, \"route\", void 0);\n    _defineProperty(this, \"location\", void 0);\n    _defineProperty(this, \"albumService\", void 0);\n    _defineProperty(this, \"album\", void 0);\n    _defineProperty(this, \"loaded\", void 0);\n    _defineProperty(this, \"photos\", void 0);\n    _defineProperty(this, \"name\", void 0);\n    this.route = route;\n    this.location = location;\n    this.albumService = albumService;\n    this.photos = [];\n  }\n  ngOnInit() {\n    this.getAlbum();\n  }\n  getAlbum() {\n    this.route.paramMap.subscribe(params => {\n      const id = +params.get('id');\n      this.loaded = false;\n      this.albumService.getAlbum(id).subscribe(album => {\n        this.album = album;\n        this.loaded = true;\n      });\n    });\n  }\n  showPhotos() {\n    this.albumService.getAlbumPhotos(this.album.id).subscribe(photos => {\n      this.photos = photos;\n    });\n  }\n  updateAlbum() {\n    this.loaded = false;\n    this.albumService.updateAlbum(this.album).subscribe(album => {\n      console.log(album);\n      this.album.title = this.name;\n      this.loaded = true;\n    });\n  }\n  goBack() {\n    this.location.back();\n  }\n}\n_defineProperty(AlbumDetailComponent, \"\\u0275fac\", function AlbumDetailComponent_Factory(t) {\n  return new (t || AlbumDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Location), i0.ɵɵdirectiveInject(i3.AlbumsService));\n});\n_defineProperty(AlbumDetailComponent, \"\\u0275cmp\", /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AlbumDetailComponent,\n  selectors: [[\"app-album-detail\"]],\n  decls: 3,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [\"input\", \"text\", 3, \"ngModel\", \"ngModelChange\"], [1, \"details-buttons\"], [3, \"click\"], [1, \"photo-link\"], [3, \"routerLink\"], [4, \"ngFor\", \"ngForOf\"], [\"alt\", \"photo of album\", 3, \"src\"]],\n  template: function AlbumDetailComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, AlbumDetailComponent_div_0_Template, 20, 5, \"div\", 0);\n      i0.ɵɵtemplate(1, AlbumDetailComponent_p_1_Template, 2, 0, \"p\", 0);\n      i0.ɵɵtemplate(2, AlbumDetailComponent_ul_2_Template, 2, 1, \"ul\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.loaded);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.loaded);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.photos.length);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i1.RouterLink, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel],\n  styles: [\"h2[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n  align-items: center;\\r\\n}\\r\\n\\r\\nh3[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n  align-items: center;\\r\\n}\\r\\n\\r\\nlabel[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n}\\r\\n\\r\\ninput[_ngcontent-%COMP%] {\\r\\n  width: 300px;\\r\\n}\\r\\n\\r\\n.details-buttons[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n}\\r\\n\\r\\n.photo-link[_ngcontent-%COMP%] {\\r\\n  margin-top: 20px;\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n}\\r\\n\\r\\nul[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  justify-content: center;\\r\\n  align-items: center;\\r\\n}\\r\\n\\r\\nimg[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n  align-items: center;\\r\\n}\\r\\n\\r\\np[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWxidW0tZGV0YWlsL2FsYnVtLWRldGFpbC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBYTtFQUNiLHVCQUF1QjtFQUN2QixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGFBQWE7RUFDYix1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsdUJBQXVCO0FBQ3pCOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGFBQWE7RUFDYix1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLHVCQUF1QjtFQUN2QixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGFBQWE7RUFDYix1QkFBdUI7QUFDekIiLCJzb3VyY2VzQ29udGVudCI6WyJoMiB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcblxyXG5oMyB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcblxyXG5sYWJlbCB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG5cclxuaW5wdXQge1xyXG4gIHdpZHRoOiAzMDBweDtcclxufVxyXG5cclxuLmRldGFpbHMtYnV0dG9ucyB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG5cclxuLnBob3RvLWxpbmsge1xyXG4gIG1hcmdpbi10b3A6IDIwcHg7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG5cclxudWwge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcblxyXG5pbWcge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxucCB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n}));","map":{"version":3,"mappings":";;;;;;;;;;;;IAAAA,2BAAoB;IACdA,YAA0B;IAAAA,iBAAK;IACnCA,0BAAI;IAAAA,YAAe;IAAAA,iBAAK;IACxBA,yBAAG;IAAAA,mCAAmB;IAAAA,iBAAI;IAC1BA,6BAAO;IACeA;MAAAA;MAAA;MAAA;IAAA,EAAkB;IAAtCA,iBAAuC;IAEzCA,qBAAI;IACJA,+BAA6B;IACnBA;MAAAA;MAAA;MAAA,OAASA,mCAAa;IAAA,EAAC;IAACA,qBAAI;IAAAA,iBAAS;IAC7CA,kCAA2B;IAAnBA;MAAAA;MAAA;MAAA,OAASA,8BAAQ;IAAA,EAAC;IAACA,wBAAO;IAAAA,iBAAS;IAC3CA,kCAA+B;IAAvBA;MAAAA;MAAA;MAAA,OAASA,kCAAY;IAAA,EAAC;IAACA,4BAAW;IAAAA,iBAAS;IAErDA,+BAAwB;IACOA,gCAAe;IAAAA,iBAAI;;;;IAb9CA,eAA0B;IAA1BA,4DAA0B;IAC1BA,eAAe;IAAfA,wCAAe;IAGGA,eAAkB;IAAlBA,qCAAkB;IASnCA,gBAAyB;IAAzBA,uDAAyB;;;;;IAGhCA,yBAAmB;IAAAA,gCAAgB;IAAAA,iBAAI;;;;;IAGrCA,0BAAiC;IAC/BA,YACA;IAAAA,yBAA8C;IAChDA,iBAAK;;;;IAFHA,eACA;IADAA,kEACA;IAAKA,eAAmB;IAAnBA,+DAAmB;;;;;IAH5BA,0BAA0B;IACxBA,wEAGK;IACPA,iBAAK;;;;IAJmBA,eAAS;IAATA,uCAAS;;;ACTjC,OAAM,MAAOC,oBAAoB;EAK/BC,YAAoBC,KAAqB,EACrBC,QAAkB,EAClBC,YAA2B;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAF3B,UAAK,GAALF,KAAK;IACL,aAAQ,GAARC,QAAQ;IACR,iBAAY,GAAZC,YAAY;IAC9B,IAAI,CAACC,MAAM,GAAG,EAAE;EAClB;EAEAC,QAAQ;IACN,IAAI,CAACC,QAAQ,EAAE;EACjB;EAEAA,QAAQ;IACN,IAAI,CAACL,KAAK,CAACM,QAAQ,CAACC,SAAS,CAAEC,MAAM,IAAI;MACvC,MAAMC,EAAE,GAAG,CAACD,MAAM,CAACE,GAAG,CAAC,IAAI,CAAC;MAC5B,IAAI,CAACC,MAAM,GAAG,KAAK;MACnB,IAAI,CAACT,YAAY,CAACG,QAAQ,CAACI,EAAE,CAAC,CAACF,SAAS,CAAEK,KAAK,IAAI;QACjD,IAAI,CAACA,KAAK,GAAGA,KAAK;QAClB,IAAI,CAACD,MAAM,GAAG,IAAI;MACpB,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAEAE,UAAU;IACR,IAAI,CAACX,YAAY,CAACY,cAAc,CAAC,IAAI,CAACF,KAAK,CAACH,EAAE,CAAC,CAACF,SAAS,CAAEJ,MAAM,IAAI;MACnE,IAAI,CAACA,MAAM,GAAGA,MAAM;IACtB,CAAC,CAAC;EACJ;EAGAY,WAAW;IACT,IAAI,CAACJ,MAAM,GAAG,KAAK;IACnB,IAAI,CAACT,YAAY,CAACa,WAAW,CAAC,IAAI,CAACH,KAAK,CAAC,CAACL,SAAS,CAAEK,KAAK,IAAI;MAC5DI,OAAO,CAACC,GAAG,CAACL,KAAK,CAAC;MAClB,IAAI,CAACA,KAAK,CAACM,KAAK,GAAG,IAAI,CAACC,IAAI;MAC5B,IAAI,CAACR,MAAM,GAAG,IAAI;IACpB,CAAC,CAAC;EACJ;EAEAS,MAAM;IACJ,IAAI,CAACnB,QAAQ,CAACoB,IAAI,EAAE;EACtB;;gBA5CWvB,oBAAoB;mBAApBA,oBAAoB;AAAA;AAAA,gBAApBA,oBAAoB;QAApBA,oBAAoB;EAAAwB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDXjC7B,sEAgBM;MACNA,iEAAuC;MAEvCA,mEAKK;;;MAxBCA,iCAAY;MAiBdA,eAAa;MAAbA,kCAAa;MAEZA,eAAmB;MAAnBA,wCAAmB","names":["i0","AlbumDetailComponent","constructor","route","location","albumService","photos","ngOnInit","getAlbum","paramMap","subscribe","params","id","get","loaded","album","showPhotos","getAlbumPhotos","updateAlbum","console","log","title","name","goBack","back","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\001\\Documents\\GitHub\\Web-Dev\\Lab6\\src\\app\\album-detail\\album-detail.component.html","C:\\Users\\001\\Documents\\GitHub\\Web-Dev\\Lab6\\src\\app\\album-detail\\album-detail.component.ts"],"sourcesContent":["<div *ngIf=\"loaded\">\r\n  <h2>Album Detail #{{album.id}}</h2>\r\n  <h3>{{album.title}}</h3>\r\n  <p>Edit Title Of Album</p>\r\n  <label>\r\n    <input input=\"text\" [(ngModel)]=\"name\">\r\n  </label>\r\n  <br>\r\n  <div class=\"details-buttons\">\r\n    <button (click)=\"updateAlbum()\">Save</button>\r\n    <button (click)=\"goBack()\">Go Back</button>\r\n    <button (click)=\"showPhotos()\">Show Photos</button>\r\n  </div>\r\n  <div class=\"photo-link\">\r\n    <a [routerLink]=\"['photos']\">Photos of album</a>\r\n  </div>\r\n</div>\r\n<p *ngIf=\"!loaded\">Loading album...</p>\r\n\r\n<ul *ngIf=\"photos.length\">\r\n  <li *ngFor=\"let photo of photos\">\r\n    {{photo.id}}) {{photo.title}}\r\n    <img src=\"{{photo.url}}\" alt=\"photo of album\">\r\n  </li>\r\n</ul>\r\n","import {Component, OnInit} from '@angular/core';\r\nimport {Album, Photo} from '../models';\r\nimport {ActivatedRoute} from '@angular/router';\r\nimport {Location} from '@angular/common';\r\nimport {AlbumsService} from '../albums.service';\r\n\r\n@Component({\r\n  selector: 'app-album-detail',\r\n  templateUrl: './album-detail.component.html',\r\n  styleUrls: ['./album-detail.component.css']\r\n})\r\nexport class AlbumDetailComponent implements OnInit {\r\n  album: Album;\r\n  loaded: boolean;\r\n  photos: Photo[];\r\n  name: string;\r\n  constructor(private route: ActivatedRoute,\r\n              private location: Location,\r\n              private albumService: AlbumsService) {\r\n    this.photos = [];\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getAlbum();\r\n  }\r\n\r\n  getAlbum(): void {\r\n    this.route.paramMap.subscribe((params) => {\r\n      const id = +params.get('id');\r\n      this.loaded = false;\r\n      this.albumService.getAlbum(id).subscribe((album) => {\r\n        this.album = album;\r\n        this.loaded = true;\r\n      });\r\n    });\r\n  }\r\n\r\n  showPhotos(): void {\r\n    this.albumService.getAlbumPhotos(this.album.id).subscribe((photos) => {\r\n      this.photos = photos;\r\n    });\r\n  }\r\n\r\n\r\n  updateAlbum(): void {\r\n    this.loaded = false;\r\n    this.albumService.updateAlbum(this.album).subscribe((album) => {\r\n      console.log(album);\r\n      this.album.title = this.name;\r\n      this.loaded = true;\r\n    });\r\n  }\r\n\r\n  goBack(): void {\r\n    this.location.back();\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}